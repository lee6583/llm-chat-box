# Netlify éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†è¿™ä¸ª Vue 3 é¡¹ç›®éƒ¨ç½²åˆ° Netlifyã€‚

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¡®ä¿é¡¹ç›®å¯ä»¥æ­£å¸¸æ„å»º

åœ¨æœ¬åœ°æµ‹è¯•æ„å»ºï¼š

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºé¡¹ç›®
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

### 2. æäº¤ä»£ç åˆ° Git ä»“åº“

ç¡®ä¿æ‚¨çš„ä»£ç å·²ç»æäº¤åˆ° GitHubã€GitLab æˆ– Bitbucket ç­‰ Git æ‰˜ç®¡å¹³å°ã€‚

## ğŸš€ éƒ¨ç½²æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šé€šè¿‡ Netlify ç½‘ç«™éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **ç™»å½• Netlify**
   - è®¿é—® [https://www.netlify.com](https://www.netlify.com)
   - ä½¿ç”¨ GitHub/GitLab/Bitbucket è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°ç«™ç‚¹**
   - ç‚¹å‡» "Add new site" â†’ "Import an existing project"
   - é€‰æ‹©æ‚¨çš„ Git ä»“åº“

3. **é…ç½®æ„å»ºè®¾ç½®**
   - **Build command**: `pnpm build`
   - **Publish directory**: `dist`
   - Netlify ä¼šè‡ªåŠ¨æ£€æµ‹ `netlify.toml` é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨å…¶ä¸­çš„è®¾ç½®

4. **ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰**
   - å¦‚æœé¡¹ç›®éœ€è¦ç¯å¢ƒå˜é‡ï¼Œåœ¨ "Site settings" â†’ "Environment variables" ä¸­æ·»åŠ 
   - ä¾‹å¦‚ï¼š`VITE_API_BASE_URL`ã€`VITE_API_KEY` ç­‰

5. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy site"
   - ç­‰å¾…æ„å»ºå®Œæˆ

### æ–¹æ³•äºŒï¼šé€šè¿‡ Netlify CLI éƒ¨ç½²

1. **å®‰è£… Netlify CLI**
   ```bash
   npm install -g netlify-cli
   ```

2. **ç™»å½• Netlify**
   ```bash
   netlify login
   ```

3. **åˆå§‹åŒ–é¡¹ç›®**
   ```bash
   netlify init
   ```
   æŒ‰ç…§æç¤ºé€‰æ‹©ï¼š
   - åˆ›å»ºæ–°ç«™ç‚¹æˆ–é“¾æ¥ç°æœ‰ç«™ç‚¹
   - æ„å»ºå‘½ä»¤ï¼š`pnpm build`
   - å‘å¸ƒç›®å½•ï¼š`dist`

4. **éƒ¨ç½²**
   ```bash
   # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
   netlify deploy --prod
   
   # æˆ–å…ˆéƒ¨ç½²åˆ°é¢„è§ˆç¯å¢ƒ
   netlify deploy
   ```

### æ–¹æ³•ä¸‰ï¼šæ‹–æ‹½éƒ¨ç½²ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

1. åœ¨æœ¬åœ°æ„å»ºé¡¹ç›®ï¼š
   ```bash
   pnpm build
   ```

2. è®¿é—® [https://app.netlify.com/drop](https://app.netlify.com/drop)

3. å°† `dist` æ–‡ä»¶å¤¹æ‹–æ‹½åˆ°é¡µé¢ä¸­

4. ç­‰å¾…éƒ¨ç½²å®Œæˆ

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

é¡¹ç›®å·²åŒ…å« `netlify.toml` é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹è®¾ç½®ï¼š

- **æ„å»ºå‘½ä»¤**: `pnpm build`
- **å‘å¸ƒç›®å½•**: `dist`
- **SPA é‡å®šå‘è§„åˆ™**: æ‰€æœ‰è·¯ç”±é‡å®šå‘åˆ° `index.html`ï¼ˆæ”¯æŒ Vue Router history æ¨¡å¼ï¼‰

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æ„å»ºå¤±è´¥

- ç¡®ä¿ Node.js ç‰ˆæœ¬å…¼å®¹ï¼ˆå»ºè®®ä½¿ç”¨ Node.js 18+ï¼‰
- æ£€æŸ¥ `package.json` ä¸­çš„ä¾èµ–æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹ Netlify æ„å»ºæ—¥å¿—æ’æŸ¥é”™è¯¯

### 2. è·¯ç”± 404 é”™è¯¯

- å·²é…ç½® SPA é‡å®šå‘è§„åˆ™ï¼Œåº”è¯¥ä¸ä¼šå‡ºç°æ­¤é—®é¢˜
- å¦‚æœä»æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ `netlify.toml` ä¸­çš„ `[[redirects]]` é…ç½®

### 3. ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

- ç¡®ä¿ç¯å¢ƒå˜é‡ä»¥ `VITE_` å¼€å¤´ï¼ˆVite è¦æ±‚ï¼‰
- åœ¨ Netlify æ§åˆ¶å°çš„ "Environment variables" ä¸­è®¾ç½®
- é‡æ–°éƒ¨ç½²ç«™ç‚¹

### 4. æ„å»ºæ—¶é—´è¿‡é•¿

- è€ƒè™‘ä½¿ç”¨ `.netlifyignore` æ–‡ä»¶æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶
- ä½¿ç”¨ Netlify çš„æ„å»ºç¼“å­˜åŠŸèƒ½

## ğŸ“ åç»­ä¼˜åŒ–

### è‡ªå®šä¹‰åŸŸå

1. åœ¨ Netlify æ§åˆ¶å°è¿›å…¥ç«™ç‚¹è®¾ç½®
2. é€‰æ‹© "Domain management"
3. æ·»åŠ è‡ªå®šä¹‰åŸŸåå¹¶é…ç½® DNS

### æŒç»­éƒ¨ç½²

- é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¨é€åˆ°ä¸»åˆ†æ”¯éƒ½ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²
- å¯ä»¥åœ¨ "Site settings" â†’ "Build & deploy" ä¸­é…ç½®åˆ†æ”¯éƒ¨ç½²è§„åˆ™

### æ€§èƒ½ä¼˜åŒ–

- å¯ç”¨ Netlify çš„ CDN å’Œç¼“å­˜åŠŸèƒ½
- é…ç½® HTTP å¤´ä¼˜åŒ–ç¼“å­˜ç­–ç•¥

## ğŸ”— ç›¸å…³é“¾æ¥

- [Netlify å®˜æ–¹æ–‡æ¡£](https://docs.netlify.com/)
- [Vite éƒ¨ç½²æŒ‡å—](https://vitejs.dev/guide/static-deploy.html#netlify)
- [Vue Router éƒ¨ç½²æŒ‡å—](https://router.vuejs.org/guide/essentials/history-mode.html)

